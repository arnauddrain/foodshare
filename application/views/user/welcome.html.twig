{% extends 'templates/welcome.html.twig' %}
{% block content %}
    <style>
        #map-canvas img {
            max-width: initial;
        }
    </style>
        
    <section id="slider" class="shell clearfix garnish" style="padding: 20px; height: 800px;">
        <div id="map-canvas" style="height: 100%;"/>
    </section>
    
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?senson=true"></script>
    <script type="text/javascript">
        function addMarker(map, tab, i) {
            var myLatlng = new google.maps.LatLng(tab[i].x, tab[i].y);
            var marker = new google.maps.Marker({
                position: myLatlng,
                map: map,
                title: tab[i].title
            });
            marker.setAnimation(google.maps.Animation.DROP);
            var contentString = '<div id="content">'+
                '<div id="siteNotice">'+
                '</div>'+
                '<h1 id="firstHeading" class="firstHeading">' + tab[i].title + '</h1>'+
                '<div id="bodyContent">'+
                '<p><a href="/demo/book"><b>RÃ©server</b></a>' +
                '</div>'+
                '</div>';
            var infowindow = new google.maps.InfoWindow({
                content: contentString
            });
            google.maps.event.addListener(marker, 'click', function() {
                infowindow.open(map,marker);
            });
            if (i < tab.length - 1)
                setTimeout(function () {addMarker(map, tab, i + 1)}, 1000 / tab.length);
        }
        
        function initialize() {
        var mapOptions = {
          center: new google.maps.LatLng(48.853, 2.35),
          zoom: 13
        };
        var map = new google.maps.Map(document.getElementById("map-canvas"),
            mapOptions);
        
        var tab = [
            {x: 48.855, y: 2.35, title: "Maxime"},
            {x: 48.845, y: 2.40, title: "Tabia"},
            {x: 48.88, y: 2.44, title: "Paul et Sandra"},
            {x: 48.87, y: 2.32, title: "Fatima"},
            {x: 48.865, y: 2.31, title: "Tang"},
            {x: 48.868, y: 2.30, title: "Patrick Sebastien"}
        ];

        addMarker(map, tab, 0);
      }
      google.maps.event.addDomListener(window, 'load', initialize);
    </script>
{% endblock %}